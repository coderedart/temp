on: push
  
name: CI
jobs:
  build:
    runs-on: ${{ matrix.os }}-latest
    strategy:
      matrix:
        os: [ubuntu, windows, macos]
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: install LLVM
        if: matrix.os == 'ubuntu'
        shell: bash
        run: sudo apt-get install -y llvm 7zip
      - name: Setup LLVM path on mac
        if: matrix.os == 'macos'
        shell: bash
        run: |
              echo "$(brew --prefix llvm@15)/bin" >> $GITHUB_PATH
      - name: Run
        shell: bash
        run: |
          echo "$PATH"
          # lets verify all the common tools before we start the gclient sync
          llvm-strip --version
          tar --help
          7z --version
          cut --version
          grep --version
          tr --version
          mv --version
          rm --version
          cat --version
          mkdir --version
          bash --version
          git --version
          python --version

